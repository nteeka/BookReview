@model IEnumerable<KK_BookStore.HoaDon>

@{
    ViewBag.Title = "tatCaDonHang";
    Layout = "~/Views/Shared/Admin.cshtml";
}


<title>K&K_Quản lý đơn hàng</title>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    @*<title>Tables - SB Admin</title>*@
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    @*<link href="css/styles.css" rel="stylesheet" />*@
    <link href="~/Content/quanLySach/quanLySach.css" rel="stylesheet" />
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
</head>
<body class="sb-nav-fixed">
    <div id="layoutSidenav_content">
        <main style="margin-right:200px">
            <div class="container-fluid px-4">
                <h1 style="text-align:center" class="mt-4">Quản lý Đơn Hàng</h1>

               
                <div class="card mb-4">
                    <div class="card-header">
                        <i class="fas fa-table me-1"></i>
                        Bảng quản lý đơn hàng

                    </div>
                    <div class="card-body">
                        <table id="datatablesSimple">
                            <thead>
                                <tr>
                                    <th>Mã Hóa Đơn</th>
                                    <th>Khách hàng</th>
                                    <th style="text-align:center">Ngày đặt đơn</th>
                                    <th>Tình trạng đơn hàng</th>
                                    <th>Tình trạng thanh toán</th>
                                    <th></th>

                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th>Mã Hóa Đơn</th>
                                    <th>Khách hàng</th>
                                    <th style="text-align:center">Ngày đặt đơn</th>
                                    <th>Tình trạng đơn hàng</th>
                                    <th>Tình trạng thanh toán</th>
                                    <th></th>

                                </tr>
                            </tfoot>
                            <tbody>

                                @foreach (var item in Model)
                                {
                                   <tr>
                                       <td>@item.MaHD</td>
                                       <td>@item.NguoiDung.TaiKhoan</td>
                                       <td>@item.NgayTao.Value.ToShortDateString()</td>
                                       <td>
                                           @if (item.TinhTrang == null)
                                           {
                                               <p style="background-color: yellow; color: white; width: fit-content; ">Chưa duyệt</p>
                                           }
                                           @if (item.TinhTrang == -1)
                                           {
                                               <p style="background-color: red; color: white;width:fit-content">Đã hủy</p>
                                           }
                                           @if (item.TinhTrang == 1)
                                           {
                                               <p style="background-color: green; color: white; width: fit-content">Đã duyệt</p>
                                           }
                                       </td>

                                       <td>
                                           @if (item.TinhTrangThanhToan == false)
                                           {
                                               <p style="color:black">Chưa thanh toán</p>
                                           }
                                           else
                                           {
                                               <p style="color:black">Đã thanh toán</p>
                                           }
                                       </td>

                                       <td>
                                           <a href="@Url.Action("chiTietDonHang", "Admin",new { @id = item.MaHD})" title="Chi tiết" data-toggle="tooltip"><i style="font-size:large" class="fa fa-info"></i></a>
                                       </td>
                                   </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    @*<script src="js/scripts.js"></script>*@
    <script src="~/Content/quanLySach/scripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
    @*<script src="js/datatables-simple-demo.js"></script>*@
    <script src="~/Content/quanLySach/datatables-simple-demo.js"></script>
</body>
</html>